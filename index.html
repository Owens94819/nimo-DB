<!DOCTYPE html>
<html lang="en">
<head>
    <script src="nimo-DB.js" type="text/javascript" charset="utf-8"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
   
    
    <script>
        //database
        var db = new NimoDB();

        var dt = function () {
            var d = indexedDB;
            var dl = function (val) {
                setTimeout(function () {
                    d.deleteDatabase(val)
                }, 500);
            }
            var nm =d.webkitGetDatabaseNames();
            nm.onsuccess = function () {
                var rst = nm.result;
                for (var i = 0; i < rst.length; i++) {
                    var val = rst[i];
                   dl(val)
                }
            }
        }
var data;

data = function () {
    this.d=8
}
        // create
        db.create('db','tb').then(function(e) {
            var loc = db.open('db', 'tb');
            loc.then(function (e) {
                if (e) {
                    e.setItem(Date.now(), new Date)
                    e.getAllItem('d83').then(function (e) {
                        for (var key in e) {
                            var elm = e[key]
                            console.log(elm)
                            if ('function' == typeof elm) {
                               var elm = elm();
                            }
                            document.body.innerHTML += `<b>${key}</b> - <a href=#>${elm}</a><br/><br/>`
                        }
                    })
                }
            })
        })
       // dt()
    </script>
</body>
</html>